var NetFunnel=new Object();NetFunnel.Skin=new Object();NetFunnel.TS_HOST="72.2.220.38";NetFunnel.TS_PORT=4005;NetFunnel.TS_PROTO="https";NetFunnel.TS_QUERY="ts.wseq";NetFunnel.TS_SERVICE_ID="service_1";NetFunnel.TS_ACTION_ID="PC_main";NetFunnel.TS_MAX_TTL=30;NetFunnel.TS_CONN_TIMEOUT=2;NetFunnel.TS_CONN_RETRY=1;NetFunnel.TS_COOKIE_ID="NetFunnel_ID";NetFunnel.TS_COOKIE_TIME=10;NetFunnel.TS_COOKIE_DOMAIN="";NetFunnel.TS_BYPASS=false;NetFunnel.TS_POPUP_TOP=false;NetFunnel.TS_POPUP_LEFT=false;NetFunnel.TS_AUTO_COMPLETE=false;NetFunnel.TS_DEBUG_MODE=false;NetFunnel.TS_SHOWTIME_LIMIT=3600;NetFunnel.TS_SHOWCNT_LIMIT=2000;NetFunnel.TS_SHOWNEXT_LIMIT=2000;NetFunnel.TS_IFRAME_RESIZE=false;NetFunnel.TS_USE_UNFOCUS=true;NetFunnel.TS_VIRT_WAIT=5000;NetFunnel.TS_USE_MOBILE_UI=false;NetFunnel.TS_POPUP_TARGET=window;NetFunnel.TS_USE_FRAME_BLOCK=false;NetFunnel.TS_FRAME_BLOCK_LIST=[];NetFunnel.TS_USE_PRE_WAIT=false;NetFunnel.TS_USER_DATA_KEYS=[];NetFunnel.TS_CONFIG_USE=false;NetFunnel.TS_NWAIT_BYPASS=true;NetFunnel.TS_MAX_NWAIT_COUNT=100;NetFunnel.TS_BLOCK_MSG="Service Block!!";NetFunnel.TS_BLOCK_URL="";NetFunnel.TS_IPBLOCK_WAIT_COUNT=20;NetFunnel.TS_IPBLOCK_WAIT_TIME=10000;NetFunnel.TS_SHOW_WAIT_POPUP=false;NetFunnel.TS_SKIN_ID="service_1";NetFunnel.MP_USE=false;NetFunnel.MP_TIMELIMIT=20000;NetFunnel.MP_MAXREQLIMIT=NetFunnel.MP_TIMELIMIT/1100;NetFunnel.MP_DEVLIMIT=20;NetFunnel.MP_DEVCNTLIMIT=7;NetFunnel.MP_REQONLYLIMIT=10;NetFunnel.MP_MINCOUNT=5;NetFunnel.gLogoData="R0lGODlhJgAQAOe/AB5vlR5ykh9zkyNymCF0lC1xkiN1lSR2liZ3lyd4mDN1lyh5mSp6mjN4lCt7my18nDh5myt+mC59nTd7ly9+njF/nzp+mjKAoDt/mzOBoT+CnkCDn0KFoUOGokSHo0iLpk+SrlSWsl2ZsF6asWeYsWCbsmGcs2OetWSftla4Q1e5RFi6RVm7Rl+6TWK6RnaowXuou3WqvHipwmG8TmS9SGK9T2W+SWq8T2O+UH6rvmS/UX+sv2y+UWXAUoCtwIKuwYOvw4SwxIWxxW/DXYayxnfCXYezx3XDZXbEZom1yY21w4q2you4y3rIaXvJao67zoLKcpq6yonJcpe/zZu/1IrNfY3Nd6C/z5zA1ZrC0KHA0I7QgJ/D2KPD04/SgZbQgZDTgqPH0KbG1pbUiqvH0azM3LDM16PZkaLamLPP2q7Zn7bS3KncobfT3bHcorrW4LnfrbPirrrgrsTY5Lvhr7jkqsba5rzjsLrkt73kscjc6Mvc4rzluMzd49Dg59Hh6MfpvtLi6dPk6s3qxtfk5dTl687rx9Xm7Nbn7dPrz9Ts0Nfo79Xt0dnp8N3q69fv097r7OHq8uXq7d/s7eDt7uDw1ePs9Obs7uTt9eft79/y3uLw8Onu8ODz3+vw8+H14Ozx9O3y9er14u306e7z9uj26u/26+/19+n46/D37PD2+PL3+fL57vP4+/T67/T5/Pf59vX6/fj69/L89/X88Pn7+Pr8+ff9//v9+v78///9+//9//n///z/+/7//P///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEKAP8ALAAAAAAmABAAAAj+AH2hSuXLl61SsHzp8pVLIcOHBSNKnDgxFY8VnXwlckHH1y2PBiuJakixZElUOlrocGWoBRxfuBS58vWpxRZbJnNKRKXSpqIWdB6x0JFCUZMWKhjpXMrTypkUTlzgWXHkjgsko3R4wbk0J08ovoq0aMEmxZAvW6rM0jGmq05TOqT4MpWiBR8oLfL0UOPqxphbC91SnFUHUMFHcTTJcgMGjShccgYtDUyxYSguWq5EWdXFjq9WWNp4mlJG4ZwrqvRcQVRQTBZfUbRkyULqDZWEug5RcLAAACUIQHxBIkAiUIIFYXz9cHApyQQJBT1Q8CVAwgIGiGAgIJXrlu4RBgXsUQjiKxKBEn8WOMCgCgiDS0okMBDhSzp1AxFjbGd4SH4BDpFQENwkBIzwBwIgSLCBD+8lIcEHC6TxwXQBSCCAAZ68gMApBenmQRBPIEIBDL40ct6BP5AhQQUMSLKEBH5wsGIFvgzQgBFCvCLDhgyJWEJBjkigQRonJADDHwns4EsIDDBASRIR9AGKBBNMJ4ACa5jRSgwM/EAEJIhcYEJEKEhgpgaq9OHADwVxQAEmTFDQhy9lLJCBLwdYQIEFjeRAwZ973LIJKBI5QkghqtwSSyYc+kIKJ7eowkktH2XCiS+WcKKpLadomkksAQEAOw==";NetFunnel.gLogoText="";NetFunnel.gLogoURL="http://www.netfunnel.co.kr/net/html/netfunnel_info.html";NetFunnel.gPreWaitData="R0lGODlhKAAoALMMAPj4+MTExPT09NTU1NPT08XFxcbGxsLCwtXV1cPDw/X19b+/v////wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBQAMACwAAAAAKAAoAAAEgJDJSau9OOvNu/9gKI5kaZ5oqq5sCwKIYSAABcv0qQRLvwQCyc73C5YGxB5BgkwuS4nk4iCJJqlQKdZKxJII0ifYaRLwfECJmZg2AQaFwqA2ecfnrry+dJvR80NoRi5NRE8uXD5eLYk9iyxjhnprgnt2cn97mpucnZ6foKGio3oRACH5BAkFAAwALAAAAAAoACgAAASAkMlJq7046827/2AojmRpnmiqrmwLAohhIAAFy/SpBEu/BALJzvcLlgbEHkGCTC5LieTiIIkmqVAp1krEkgjSJ9hpEvB8QImZmDYBBoXCoDZ5x+euvP4Vm9HzQ2hGLk1ETy5cPl4tiT2LLGOGemuCe3Zyf3uam5ydnp+goaKjnREAIfkECQUADAAsAAAAACgAKAAABICQyUmrvTjrzbv/YCiOZGmeaKqubAsCiGEgAAXL9KkES78EAsnO9wuWBsQeQYJMLkuJ5OIgiSapUCnWSsSSCNIn2GkS8HxAiZmYNgEGhcKgNnnH5668fnOb0fNDaEYuTURPLlw+Xi2JPYssY4Z6a4J7dnJ/e5qbnJ2en6ChoqOiEQAh+QQJBQAMACwAAAAAKAAoAAAEgJDJSau9OOvNu/9gKI5kaZ5oqq5sCwKIYSCAOynBoi+BYDOD3Y7wSwh1h+JxkbQRlkQJTEY7CXK7ngQn1JoAg0JhUJMEj1GX8dhUL9uk6azMeKJN3KyPce3uSWdCaWBiZCdrQnAsiDuKK3aCP316PwyEY3SVmpucnZ6foKGio6IRACH5BAkFAAwALAAAAAAoACgAAAR9kMlJq7046827/2AojmRpnmiqrmwLAohhIIA7KcGiL4FgM4PdjvBLCHWH4nGRtBGWRJsgt+v9GIBBoTCoXb/gDUxGo4xn3hJOaGWsq75S8BidC6Mk47GpFzbzS3yBJk90EoV3JlNscYtwJ1lbXWZaXGlhmJmam5ydnp+goBEAIfkECQUADAAsAAAAACgAKAAABH2QyUmrvTjrzbv/YCiOZGmeaKqubFsCiGEggDspwaIvgWAzg92O8EsIdYficZG0EZZEmyC36/0YgEGhMKhdv2ALTEajjGfeEk5oZayrvlLwGJ0LoyTjsakXNvNLfIEmT3QShXcmU2xxi3AnWVtdZlpcaWGYmZqbnJ2en6CgEQAh+QQJBQAMACwAAAAAKAAoAAAEfZDJSau9OOvNu/9gKI5kaZ5oqq5sqwKIYSCAOynBoi+BYDOD3Y7wSwh1h+JxkbQRlkSbILfr/RiAQaEwqF2/YGxs5pXAZLQTTmhlrKu+UvAYnQujJOOxqRc280t8gSZPdBKFdyZTbHGLcCdZW10UkVxlYZiZmpucnZ6foKARACH5BAUFAAwALAAAAAAoACgAAASBkMlJq7046827/2AojmRpnmiqrmyrAohhIIA7KcGiL4FgM4PdjvBLCHWH4nGRNMFktAlhSSzhhD2JILfLloLHKgMwKBQGNZPx2HSthe3WNDx5ztKlLdbHuHb5JWRmaBNgQmItbztxLIpIP3OHP3p/P2NlZ3iWm5ydnp+goaKjpD8RADs=";NetFunnel.gFixelData="R0lGODlhAQABAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==";NetFunnel.RTYPE_NONE=0;NetFunnel.RTYPE_CHK_ENTER=5002;NetFunnel.RTYPE_ALIVE_NOTICE=5003;NetFunnel.RTYPE_SET_COMPLETE=5004;NetFunnel.RTYPE_GET_TID_CHK_ENTER=5101;NetFunnel.RTYPE_INIT=5105;NetFunnel.RTYPE_STOP=5106;NetFunnel.kSuccess=200,NetFunnel.kContinue=201,NetFunnel.kContinueDebug=202,NetFunnel.kTsBypass=300,NetFunnel.kTsBlock=301,NetFunnel.kTsIpBlock=302,NetFunnel.kTsExpressNumber=303,NetFunnel.kTsErrorNoUservice=500,NetFunnel.kTsErrorNoAction=501,NetFunnel.kTsErrorAComplete=502,NetFunnel.kTsErrorWrongServer=503,NetFunnel.kTsErrorTooRecreate=504,NetFunnel.kTsErrorNoKey=505,NetFunnel.kTsErrorInvalidID=506,NetFunnel.kTsErrorInvalidKey=507,NetFunnel.kTsErrorInvalidIdStr=508,NetFunnel.kTsErrorDuplicate=509,NetFunnel.kTsErrorDelAction=510,NetFunnel.kTsErrorUserviceExist=511,NetFunnel.kTsErrorActionExist=512,NetFunnel.kTsErrorLicenseOver=513,NetFunnel.kTsErrorSize=514,NetFunnel.kTsErrorNoUserAction=515,NetFunnel.kErrorAuth=900,NetFunnel.kErrorNotFound=901,NetFunnel.kErrorNoinit=902,NetFunnel.kErrorCode=903,NetFunnel.kErrorParam=904,NetFunnel.kErrorData=905,NetFunnel.kErrorUnknownType=906,NetFunnel.kErrorAlready=907,NetFunnel.kErrorService=908,NetFunnel.kErrorExecution=909,NetFunnel.kErrorSock=920,NetFunnel.kErrorSockSend=921,NetFunnel.kErrorSockRecv=922,NetFunnel.kErrorNotFoundLocalIP=925,NetFunnel.kErrorSockConnect=926,NetFunnel.kErrorNoConnect=927,NetFunnel.kErrorSockData=928,NetFunnel.kErrorIO=991,NetFunnel.kErrorArunning=992,NetFunnel.kErrorPermission=993,NetFunnel.kErrorExpiredTime=994,NetFunnel.kErrorOverCounter=995,NetFunnel.kErrorSecurity=996,NetFunnel.kErrorSystemStopping=997,NetFunnel.kErrorNotSupport=998,NetFunnel.kErrorSystem=999;NetFunnel.PS_N_RUNNING=0;NetFunnel.PS_RUNNING=1;NetFunnel.PS_CONTINUE=2;NetFunnel.PS_TIMEOUT=3;NetFunnel.PS_ERROR=99;NetFunnel.CONN_TIMEOUT_KEY="connection_timeout";NetFunnel.gControl=null;NetFunnel.gShowtimeLimit=false;NetFunnel.gShowcntLimit=false;NetFunnel.gShownextLimit=false;NetFunnel.gSkinId="";NetFunnel.gPopupTop=false;NetFunnel.gPopupLeft=false;NetFunnel.gTotWait=-1;NetFunnel.gPrevWaitTime=-1;NetFunnel.gLastSkinID="default";NetFunnel.gUseMobileUI=false;NetFunnel.gUseUnfocus=false;NetFunnel.gAlreadyProc=0;NetFunnel.gWaitPop=null;NetFunnel.gIPBlockWaitCount=0;NetFunnel.gNWaitCount=0;NetFunnel.gNWaitTemp=0;NetFunnel.gReTimer=null;NetFunnel.gDebugflag=false;NetFunnel.Util={makeDebugMsg:function(k,l,q,n,p){var r="\n";var s="       ";if(p==true){r="<br>";s="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"}switch(l){case NetFunnel.RTYPE_GET_TID:rtype_s="getTicketID";break;case NetFunnel.RTYPE_CHK_ENTER:rtype_s="chkEnter";break;case NetFunnel.RTYPE_ALIVE_NOTICE:rtype_s="aliveNotice";break;case NetFunnel.RTYPE_SET_COMPLETE:rtype_s="setComplete";break;case NetFunnel.RTYPE_GET_TID_CHK_ENTER:rtype_s="getTID+ChkEnter";break;case NetFunnel.RTYPE_INIT:rtype_s="Init";break;case NetFunnel.RTYPE_STOP:rtype_s="stop";break;default:rtype_s="Unknown";break}switch(q){case NetFunnel.kSuccess:code_s="Normal";break;case NetFunnel.kContinue:code_s="Continue";break;case NetFunnel.kContinueDebug:code_s="Debug Continue mode";break;case NetFunnel.kTsBypass:code_s="ServerSide Bypass";break;case NetFunnel.kTsBlock:code_s="ServerSide Block";break;case NetFunnel.kTsIpBlock:code_s="ServerSide Ip Block";break;case NetFunnel.kErrorSystem:code_s="System Error";break;case NetFunnel.kErrorSecurity:code_s="Security Error";break;case NetFunnel.kErrorIO:code_s="I/O Error";break;case NetFunnel.kErrorSockConnect:code_s="Connection Timeout";break;case NetFunnel.kErrorAlready:code_s="Already Running";break;case NetFunnel.kErrorNoinit:code_s="Init Error";break;case NetFunnel.E_INSERT:code_s="Insert Error";break;case NetFunnel.kErrorPermission:code_s="No Permission";break;case NetFunnel.kErrorExpiredTime:code_s="Key Expire";break;case NetFunnel.kErrorParam:code_s="Parameter Error";break;case NetFunnel.E_NOT_STARTED:code_s="No service time";break;case NetFunnel.kTsErrorNoUserAction:code_s="No action Error";break;default:code_s="Unknown Error";break}var m=k+" "+r+r+"  - type : "+rtype_s+" ("+l+")"+r+" - Code : "+code_s+" ("+q+")"+r+" - Params"+r;for(var o in n){m+=s+o+" ---> "+n[o]+r}return m},goNextPage:function(e,g){var f=e;for(var h in g){f+="&"+h+"="+g[h]}document.location.href=f},alertDebugMsg:function(b){alert(b)},decodeBase64:function(t){var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var w="";var m,o,q;var n,p,r,s;var u=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{n=v.indexOf(t.charAt(u++));p=v.indexOf(t.charAt(u++));r=v.indexOf(t.charAt(u++));s=v.indexOf(t.charAt(u++));m=(n<<2)|(p>>4);o=((p&15)<<4)|(r>>2);q=((r&3)<<6)|s;w=w+String.fromCharCode(m);if(r!=64){w=w+String.fromCharCode(o)}if(s!=64){w=w+String.fromCharCode(q)}}while(u<t.length);return w},getParam:function(f){f=f.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+f+"=([^&#]*)";var g=new RegExp(e);var h=g.exec(document.location.href);if(h==null){return""}else{return h[1]}},isSmartPhone:function(){var d=new Array("iPhone","iPod","iPad","BlakBerry","Android","WindowsCE","LG","MOT","SAMSUNG","SonyEricsson","Nokia","Webos","Opera mini","Opera mobi","Iemobile");try{for(var e=0;e<d.length;e++){if(navigator.userAgent.match(d[e])!=null){return true}}}catch(f){}return false},calcStdDev:function(k,l){if(typeof k!="object"){return false}if(k.length<2){return false}if(l>1||l<0){l=0}var m=0,n=0;for(n=0;n<k.length;n++){m=m+parseInt(k[n])}var j=m/k.length;var h=0;for(n=0;n<k.length;n++){h=h+((parseInt(k[n])-j)*(parseInt(k[n])-j))}var o=Math.sqrt(h/(k.length-l));return o},delFocus:function(j){try{var k=document;if(typeof j=="object"&&typeof j.document=="object"){k=j.document}var e=k.getElementsByTagName("body")[0];var h=k.createElement("iframe");h.style.position="absolute";h.style.width="0px";h.style.height="0px";h.style.border="0px";h.style.top=NetFunnel.PopupUtil.getScrollTop(k);h.style.left=NetFunnel.PopupUtil.getScrollLeft(k);e.appendChild(h);h.focus();var m=h.parentNode;if(m&&typeof m=="object"){m.removeChild(h)}}catch(l){}},isVirtualWait:function(b){if(typeof b!="object"){return false}if(typeof b.mprotect=="number"&&b.mprotect>0){return true}return false},getTimeStr:function(f){var h=parseInt(f);if(h<60){return h+"초"}else{if(h<3600){var k=Math.floor(h/60);var j=h%60;return k+"분 "+j+"초"}else{var g=Math.floor(h/3600);var k=Math.floor((h%3000)/60);var j=h%60;return g+"시간 "+k+"분 "+j+"초"}}},getFrameWindowList:function(g){var h=new Array();for(var f=0;f<top.frames.length;f++){var e=top.frames[f];if(e===g){continue}h.push({win:e,popup:null})}return h}};NetFunnel.BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(g){for(var f=0;f<g.length;f++){var e=g[f].string;var h=g[f].prop;this.versionSearchString=g[f].versionSearch||g[f].identity;if(e){if(e.indexOf(g[f].subString)!=-1){return g[f].identity}}else{if(h){return g[f].identity}}}return""},searchVersion:function(c){var d=c.indexOf(this.versionSearchString);if(d==-1){return 0}return parseFloat(c.substring(d+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};NetFunnel.BrowserDetect.init();if(NetFunnel.BrowserDetect.browser=="Explorer"){if(typeof Array.push!="function"){Array.prototype.push=function(){var c=this.length>>>0;for(var d=0;d<arguments.length;d++){this[c]=arguments[d];c=c+1>>>0}this.length=c;return c}}if(typeof Array.pop!="function"){Array.prototype.pop=function(){var c=this.length>>>0,d;if(c){d=this[--c];delete this[c]}this.length=c;return d}}}NetFunnel.getCommandStr=function(j,k){var m="";var g=0;if(j=="recv"){g=parseInt(k.substring(0,4))}else{var l=/opcode=([0-9]+)&/;var h=l.exec(k);if(h.length>1){g=parseInt(h[1])}}switch(g){case 5101:m="getTidchkEnter";break;case 5002:m="chkEnter      ";break;case 5003:m="aliveNotice   ";break;case 5004:m="setComplete   ";break;default:m="Unknown       "}return m};NetFunnel.writeDebugMsg=function(q,r,w){var o=new Date();var v=parseInt(o.getHours());var u=parseInt(o.getMinutes());var p=parseInt(o.getSeconds());var y=parseInt(o.getMilliseconds());var t="";if(v<10){t+="0"}t+=v+":";if(u<10){u+="0"}t+=u+":";if(p<10){p+="0"}t+=p;t+="."+y;var s="";var x="";var d="";if(r=="recv"){s="padding-left:1px;";x="#9E9E9E;";d=t+" | Recv | <b>"+NetFunnel.getCommandStr(r,w)+"</b> | "}else{s="margin-top:5px;";x="#EEEEEE;";d=t+" | Send | <b>"+NetFunnel.getCommandStr(r,w)+"</b> | "}q.document.write("<div onload='this.focus()' style='width:650;overflow:hidden;padding:1px;border:1px solid #eeeeee;margin:0px;font-size:10px;font-family:monospace;background-color:"+x+s+"'>"+d+w.substring(0,50)+"</div>")};NetFunnel.printDebugMsg=function(f,e,d){NetFunnel.debugWindow=window.open("","NetFunnel_debugWindow","status=1,width=700,height=300,resizable=1,scrollbars=1");if(typeof(NetFunnel.debugWindow)=="object"){NetFunnel.writeDebugMsg(NetFunnel.debugWindow,f,e)}};NetFunnel.Storage=function(b){this.html5Support=this.supportsHtml5Storage();if(typeof b=="number"){this.type=b}};NetFunnel.Storage.prototype.supportsHtml5Storage=function(){try{return"localStorage" in window&&window.localStorage!==null}catch(b){return false}};NetFunnel.Storage.prototype.html5Support=false;NetFunnel.Storage.prototype.length=0;NetFunnel.Storage.prototype.type=1;NetFunnel.Storage.prototype.setStorageType=function(b){if(b<1||b>2){this.type=1}else{this.type=b}};NetFunnel.Storage.prototype.getStorage=function(){if(this.type==1){return localStorage}else{if(this.type==2){return sessionStorage}else{return localStorage}}};NetFunnel.Storage.prototype.setItem=function(e,j,g,k){try{if(this.html5Support){this.getStorage().setItem(e,j);NetFunnel.Cookie.set(e,j,g,k)}else{NetFunnel.Cookie.set(e,j,g,k)}return true}catch(h){return false}};NetFunnel.Storage.prototype.setItemStorageOnly=function(e,j,g,k){try{if(this.html5Support){this.getStorage().setItem(e,j)}else{NetFunnel.Cookie.set(e,j,g,k)}return true}catch(h){return false}};NetFunnel.Storage.prototype.getItem=function(e,h){var f=false;try{if(this.html5Support){f=this.getStorage().getItem(e);if(!f&&(h==undefined||h==false)){f=NetFunnel.Cookie.get(e)}}else{f=NetFunnel.Cookie.get(e)}return f}catch(g){return false}};NetFunnel.Storage.prototype.removeItem=function(e,d){try{if(this.html5Support){this.getStorage().removeItem(e);if(d==undefined||d==false){NetFunnel.Cookie.del(e)}}else{NetFunnel.Cookie.del(e)}return true}catch(f){return false}};NetFunnel.Storage.prototype.clear=function(){try{if(this.html5Support){this.getStorage().clear()}return true}catch(b){return false}};NetFunnel.MProtect=function(){try{var G=new NetFunnel.Storage();var E=new Date();var v=E.getTime();var x=G.getItem("NFMPT.data",true);if(x==null){x=""}var D=G.getItem("NFMPT.stdData",true);if(D==null){D=""}var F=parseInt(G.getItem("NFMPT.lastTime",true));if(isNaN(F)||F==null||F==""){F=0}var e=parseInt(G.getItem("NFMPT.reqCnt",true));if(isNaN(e)||e==null||e==""){e=0}var w=new Array();var z=new Array();if(x!=""){w=x.split(",")}if(D!=""){z=D.split(",")}if(F!=0){w[w.length]=v-F;z[z.length]=v-F}F=v;var y=w.length-1;var B=0;for(;y>=0;y--){B=B+parseInt(w[y]);if(B>NetFunnel.MP_TIMELIMIT){break}}var A=z.length-NetFunnel.MP_DEVCNTLIMIT;if(A<0){A=0}var j=z.slice(A);var C=w.slice(y+1);G.setItemStorageOnly("NFMPT.data",C.join(","));G.setItemStorageOnly("NFMPT.stdData",j.join(","));G.setItemStorageOnly("NFMPT.lastTime",F+"");G.setItemStorageOnly("NFMPT.reqCnt",(++e)+"");var t=NetFunnel.Util.calcStdDev(j,0);if(t!=false&&t<NetFunnel.MP_DEVLIMIT){return 2}if(C.length<NetFunnel.MP_MINCOUNT){return 0}if(C.length+1>NetFunnel.MP_MAXREQLIMIT){return 1}if(e>NetFunnel.MP_REQONLYLIMIT){G.setItemStorageOnly("NFMPT.reqCnt",0+"");return 3}}catch(u){}return 0};NetFunnel.ProgressBar=function(n,o,m){this._bar=null;this._bar2=null;this._config=new Object();this._totWaitCnt=0;this._wflag=0;if(typeof n=="string"){this._obj=m.getElementById(n)}else{this._obj=n}this._config.width=360;this._config.height=5;this._config.count=50;this._config.interval=50;this._config.color=this._color;this._config.bgcolor=this._bgcolor;this._config.waitchk=0;if(typeof o=="object"){for(var q in o){this._config[q]=o[q]}}if(this._config.count<=0){this._config.count=50}this._oTable=m.createElement("table");this._oTable.style.width=this._config.width+"px";this._oTable.style.height=this._config.height+"px";this._oTable.cellPadding=0;this._oTable.cellSpacing=0;var p=m.createElement("tbody");var l=m.createElement("tr");var k=m.createElement("td");k.style.height=this._config.height+"px";k.style.backgroundColor=this._config.bgcolor;var j=m.createElement("td");j.style.backgroundColor=this._config.bgcolor;l.appendChild(k);l.appendChild(j);p.appendChild(l);this._oTable.appendChild(p);this._obj.appendChild(this._oTable);this._bar=k;this._bar2=j;this.show=function(){this._obj.style.visibility="visible";var a=this;this._timer=setInterval(function(){a._action(0)},this._config.interval);return};this.hide=function(){this._obj.style.visibility="hidden";if(this._timer){clearTimeout(this._timer);this._timer=null}return};this._action=function(a){try{if(this._config.waitchk!=0){if(parseInt(this._config.waitchk)<parseInt(NetFunnel.gLastData.nwait)){NetFunnel.gLastData.nwait=this._config.waitchk}}if(this._wflag==0&&NetFunnel.retryData==null){this._wflag=1}this._oTable.style.width=this._config.width+"px";if(NetFunnel.gTotWait<=0){NetFunnel.gTotWait=NetFunnel.gLastData.nwait}if(parseInt(NetFunnel.gLastData.nwait)>parseInt(NetFunnel.gTotWait)){NetFunnel.gTotWait=NetFunnel.gLastData.nwait}var d=this._config.width-Math.round((NetFunnel.gLastData.nwait/NetFunnel.gTotWait)*this._config.width);var b=this._config.width-d;this._bar.style.width=d+"px";this._bar.style.backgroundColor=this._config.color;this._bar2.style.width=b+"px";this._bar2.style.backgroundColor=this._config.bgcolor;this._config.waitchk=NetFunnel.gLastData.nwait}catch(c){}return true}};NetFunnel.ProgressBar.prototype._mmm=0;NetFunnel.ProgressBar.prototype._curr=0;NetFunnel.ProgressBar.prototype._direct=0;NetFunnel.ProgressBar.prototype._obj=null;NetFunnel.ProgressBar.prototype._cells=null;NetFunnel.ProgressBar.prototype._timer=null;NetFunnel.ProgressBar.prototype._oTable=null;NetFunnel.ProgressBar.prototype._config=null;NetFunnel.ProgressBar.prototype._color="#2a509b";NetFunnel.ProgressBar.prototype._bgcolor="#b6dffd";NetFunnel.Cookie={set:function(m,k,g,l){var j=m+"="+escape(k);if(typeof g!="undefined"&&(g.constructor==Number)&&g>0){var h=new Date();h.setMinutes(h.getMinutes()+g);j+=";expires="+h.toGMTString()}if(typeof l!="undefined"&&l.constructor==String&&l!=""){j+=";domain="+l}else{if(NetFunnel.TS_COOKIE_DOMAIN!=""){j+=";domain="+NetFunnel.TS_COOKIE_DOMAIN}}j+=";path=/;";document.cookie=j},del:function(b){NetFunnel.Cookie.set(b,"",-1)},get:function(d){if(document.cookie.length>0){var f=document.cookie.indexOf(d+"=");if(f!=-1){f=f+d.length+1;var e=document.cookie.indexOf(";",f);if(e==-1){e=document.cookie.length}return unescape(document.cookie.substring(f,e))}}return""}};NetFunnel.getUrlParameters=function(l){if(typeof l!="string"||l==""){return""}var m="";var n=document.location.href;if(n.indexOf("?")>-1){var o=n.substr(n.indexOf("?"));var k=o.split("&");for(var h=0;h<k.length;h++){if(k[h].indexOf(l+"=")>-1){var j=k[h].indexOf(l+"=")+l.length+1;m=k[h].substr(j);break}}}return unescape(m)};NetFunnel.gPop=null;NetFunnel.gTimer=null;NetFunnel.gLastData=null;NetFunnel.countdown_stop=function(){try{if(!NetFunnel.Util.isVirtualWait(NetFunnel.gLastData)){NetFunnel.gControl.fireEvent(null,NetFunnel.gControl,"onStop",{next:NetFunnel.gControl.next.stop});NetFunnel_sendStop();if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(NetFunnel.gControl.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(NetFunnel.gControl.getConfig("frame_block_list"))}}}catch(b){}};NetFunnel.countdown=function(){if(NetFunnel.gLastData&&NetFunnel.gLastData.time_left>=0){if(NetFunnel.gPop){var l=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_TimeLeft");var m=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_Count");var e=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_NextCnt");if(this._gNWaitView!=0){if(parseInt(this._gNWaitView)<parseInt(NetFunnel.gLastData.nwait)){NetFunnel.gLastData.nwait=this._gNWaitView}}this._gNWaitView=NetFunnel.gLastData.nwait;if(m){if(NetFunnel.gLastData.nwait>NetFunnel.gControl.getConfig("showcnt_limit")){m.innerHTML="다수"}else{m.innerHTML=String(NetFunnel.gLastData.nwait)}}if(e){if(NetFunnel.gLastData.nnext==undefined){e.innerHTML="0"}else{if(NetFunnel.gLastData.nnext>NetFunnel.gControl.getConfig("shownext_limit")){e.innerHTML="다수"}else{e.innerHTML=String(NetFunnel.gLastData.nnext)}}}if(l){if(NetFunnel.gLastData.real_time_left>NetFunnel.gControl.getConfig("showtime_limit")){if(l.innerHTML.length>=5){l.innerHTML="."}else{l.innerHTML+="."}}else{l.innerHTML=NetFunnel.Util.getTimeStr(NetFunnel.gLastData.real_time_left)}}try{if(typeof l=="object"){if(l.style.textDecoration=="none"){l.style.textDecoration="underline"}else{l.style.textDecoration="none"}}if(typeof l=="object"){if(e.style.textDecoration=="none"){e.style.textDecoration="underline"}else{e.style.textDecoration="none"}}if(typeof m=="object"){if(m.style.textDecoration=="none"){m.style.textDecoration="underline"}else{m.style.textDecoration="none"}}}catch(n){}}}if(NetFunnel.gLastData.time_left<=0&&NetFunnel.gTimer){if(NetFunnel.gPop){}return}var k=0;var o=NetFunnel.SkinUtil.get(NetFunnel.gSkinId,NetFunnel.Util.isSmartPhone());if(typeof o.updateCallback=="function"){if(parseInt(NetFunnel.gTotWait)<=0){k=0}else{if(parseInt(NetFunnel.gTotWait)<parseInt(NetFunnel.gLastData.nwait)){NetFunnel.gTotWait=parseInt(NetFunnel.gLastData.nwait)}k=parseInt(((NetFunnel.gTotWait-NetFunnel.gLastData.nwait)*100)/NetFunnel.gTotWait)}o.updateCallback(k,NetFunnel.gLastData.nwait,NetFunnel.gTotWait,NetFunnel.gLastData.real_time_left,true)}NetFunnel.gLastData.time_left--;var j=this;NetFunnel.gTimer=setTimeout(function(){j.countdown()},1000)};NetFunnel.SkinUtil={prevID:"",add:function(g,h,f){try{if(typeof g!="string"||g==""){return false}if(typeof h!="object"){return false}if(typeof f!="string"||f==""){f="normal"}if(typeof NetFunnel.Skin[g]!="object"){NetFunnel.Skin[g]=new Object()}NetFunnel.Skin[g][f]=h;NetFunnel.gLastSkinID=g;return true}catch(e){return false}},get:function(g,f){try{if(typeof g!="string"||g==""){g=NetFunnel.gLastSkinID}var e="normal";if(NetFunnel.gUseMobileUI==true&&f==true){e="mobile"}if(typeof NetFunnel.Skin[g]=="object"&&typeof NetFunnel.Skin[g][e]=="object"){return NetFunnel.Skin[g][e]}if(NetFunnel.TS_SKIN_ID!=""&&NetFunnel.TS_SKIN_ID!=g){if(typeof NetFunnel.Skin[NetFunnel.TS_SKIN_ID]=="object"&&typeof NetFunnel.Skin[NetFunnel.TS_SKIN_ID][e]=="object"){return NetFunnel.Skin[NetFunnel.TS_SKIN_ID][e]}}return NetFunnel.Skin["default"][e]}catch(h){}return NetFunnel.Skin["default"]["normal"]}};NetFunnel.SkinUtil.add("default",{htmlStr:' 			<div id="NetFunnel_Skin_Top" style="background-color:#ffffff;border:1px solid #9ab6c4;overflow:hidden;width:250px;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;" > 				<div style="background-color:#ffffff;border:6px solid #eaeff3;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> 					<div style="text-align:right;padding-top:5px;padding-right:5px;line-height:25px;"> 					</div>					<div style="padding-top:5px;padding-left:5px;padding-right:5px"> 						<div style="text-align:center;font-size:12pt;color:#001f6c;height:22px"><b><span style="color:#013dc1">접속대기 중</span>입니다.</b></div> 						<div style="text-align:right;font-size:9pt;color:#4d4b4c;padding-top:4px;height:17px;" ><b>예상시간 : <span id="NetFunnel_Loading_Popup_TimeLeft"></span></b></div> 						<div style="padding-top:6px;padding-bottom:6px;vertical-align:center;width:228px" id="NetFunnel_Loading_Popup_Progressbar"></div> 						<div style="background-color:#ededed;padding-bottom:8px;overflow:hidden;width:228px"> 							<div style="padding-left:5px"> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;padding-top:10px;padding-bottom:10px;height:10px">앞에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_Count"></span></span></b> 명, 뒤에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_NextCnt"></span></span></b> 명의 대기자가 있습니다.</div> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:12px">현재 접속자가 많아 대기 중이며</div> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">잠시만 기다리시면</div> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">서비스로 자동 접속 됩니다.</div> 								<div style="text-align:center;font-size:9pt;color:#2a509b;padding-top:10px;"> 									<b>[<span id="NetFunnel_Countdown_Stop" style="cursor:pointer">중지</span>]</b> 								</div> 							</div> 						</div> 					<div style="height:5px;"></div> 				</div> 			</div>'},"mobile");NetFunnel.tstr='	<div id="NetFunnel_Skin_Top" style="background-color:#ffffff;border:1px solid #9ab6c4;width:458px;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> 		<div style="background-color:#ffffff;border:6px solid #eaeff3;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> 			<div style="text-align:right;padding-top:5px;padding-right:5px;line-height:25px;"> 			<b><span id="NetFunnel_Loding_Popup_Debug_Alerts" style="text-align:left;color:#ff0000"></span></b> 			<span style="text-align:right;"><a href="'+NetFunnel.gLogoURL+'" target="_blank" style="cursor:pointer;text-decoration:none;">';if((NetFunnel.BrowserDetect.browser=="Explorer"&&NetFunnel.BrowserDetect.version=="6")||NetFunnel.gLogoData==""){NetFunnel.tstr+='<b style="font-size:12px;">'+NetFunnel.gLogoText+"</b></a>"}else{NetFunnel.tstr+='<b style="font-size:12px;">'+NetFunnel.gLogoText+'</b><img style="height:16px;color:black;font-size:11px;" border=0 src="data:image/gif;base64,'+NetFunnel.gLogoData+'" ></a>'}NetFunnel.tstr+='</span></div> 			<div style="padding-top:0px;padding-left:25px;padding-right:25px"> 				<div style="text-align:left;font-size:12pt;color:#001f6c;height:22px"><b>서비스 <span style="color:#013dc1">접속대기 중</span>입니다.</b></div> 				<div style="text-align:right;font-size:9pt;color:#4d4b4c;padding-top:4px;height:17px" ><b>예상대기시간 : <span id="NetFunnel_Loading_Popup_TimeLeft"></span></b></div> 				<div style="padding-top:6px;padding-bottom:6px;vertical-align:center;width:400px;height:20px" id="NetFunnel_Loading_Popup_Progressbar"></div> 				<div style="background-color:#ededed;width:400px;padding-bottom:8px;overflow:hidden"> 					<div style="padding-left:5px"> 						<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;padding-top:10px;height:10px">고객님 앞에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_Count"></span></span></b> 명, 뒤에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_NextCnt"></span></span></b> 명의 대기자가 있습니다.  </div> 						<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;height:10px">현재 접속 사용자가 많아 대기 중이며, 잠시만 기다리시면 </div> 						<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">서비스로 자동 접속 됩니다.</div> 						<div style="text-align:center;font-size:9pt;color:#2a509b;padding-top:10px;"> 							<b>※ 재 접속하시면 대기시간이 더 길어집니다. <span id="NetFunnel_Countdown_Stop" style="cursor:pointer">[중지]</span> </b> 						</div> 					</div> 				</div> 				<div style="height:5px;"></div> 			</div> 		</div> 	</div>';NetFunnel.SkinUtil.add("default",{htmlStr:NetFunnel.tstr},"normal");NetFunnel.PopupSetup=function(j,f,k){if(k==null||k==""){k=NetFunnel.gSkinId}var h=NetFunnel.SkinUtil.get(k,NetFunnel.Util.isSmartPhone());switch(j){case"vcontinue":f.data.nwait=1000000;f.data.ttl="2";f.data.tps=1;break;case"continue":break;case"alert":break;default:break}if(j!="alert"&&typeof f=="object"){NetFunnel.gLastData=f.data;NetFunnel.gLastData.time_left=parseInt(f.data.ttl);NetFunnel.gLastData.tps=parseInt(f.data.tps);if(NetFunnel.gLastData.tps==0){NetFunnel.gLastData.tps=1}NetFunnel.gLastData.real_time_left=Math.round(parseInt(f.data.nwait)/NetFunnel.gLastData.tps);if(NetFunnel.gLastData.real_time_left<1){NetFunnel.gLastData.real_time_left=1}if(NetFunnel.gPrevWaitTime>-1&&NetFunnel.gLastData.real_time_left>NetFunnel.gPrevWaitTime){NetFunnel.gLastData.real_time_left=NetFunnel.gPrevWaitTime}NetFunnel.gPrevWaitTime=NetFunnel.gLastData.real_time_left;if(NetFunnel.gTotWait<0){NetFunnel.gTotWait=NetFunnel.gLastData.nwait}}if(!NetFunnel.gPop){NetFunnel.gPop=new NetFunnel.Popup(h.htmlStr,NetFunnel.gPopupTop,NetFunnel.gPopupLeft,NetFunnel.gControl.getConfig("popup_target"));if(h.prepareCallback=="function"){h.prepareCallback()}this._gNWaitView=0}NetFunnel.gPop.show();if(NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts")){if(NetFunnel.gDebugflag){var g=NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts");g.innerHTML=" Debug Mode "}else{var g=NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts");g.innerHTML=""}}if(NetFunnel.gControl.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.showBlockList(NetFunnel.gControl.getConfig("frame_block_list"))}if(j!="alert"){NetFunnel.countdown()}};NetFunnel.DefaultCallback={onSuccess:function(d,e,f){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=true}if(f.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(f.getConfig("frame_block_list"))}if(typeof e.next=="string"&&e.next!=""){document.location.href=e.next}else{if(typeof e.next=="function"){DefaultCallback_onSuccess(d,e,f)}}NetFunnel.gPop=null},onContinued:function(d,e,f){if(typeof e.next=="string"){document.location.href=e.next;return}if(typeof e.next=="function"){if(e.next(d,e)==false){return}}if(e.rtype==NetFunnel.RTYPE_CHK_ENTER||e.rtype==NetFunnel.RTYPE_GET_TID_CHK_ENTER){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}NetFunnel.PopupSetup("continue",e,NetFunnel.gSkinId)}},onError:function(d,e,f){if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(f.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(f.getConfig("frame_block_list"))}if(typeof e.next=="string"&&e.next!=""){document.location.href=e.next;return}if(typeof e.next=="function"){if(e.next(d,e)==false){return}}},onStop:function(c,d){if(typeof d.next=="string"&&d.next!=""){document.location.href=d.next;return}if(typeof d.next=="function"){if(d.next(c,d)==false){return}}},onBypass:function(d,e,f){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(f.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(f.getConfig("frame_block_list"))}if(typeof e.next=="string"&&e.next!=""){document.location.href=e.next;return}if(typeof e.next=="function"){if(e.next(d,e)==false){return}}},onExpressnumber:function(d,e,f){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(f.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(f.getConfig("frame_block_list"))}if(typeof e.next=="string"&&e.next!=""){document.location.href=e.next;return}if(typeof e.next=="function"){if(e.next(d,e)==false){return}}},onBlock:function(d,e,f){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(typeof e.next=="string"&&e.next!=""){document.location.href=e.next;return}if(typeof e.next=="function"){if(e.next(d,e)==false){return}}if(typeof(f.getConfig("block_url"))!="string"||f.getConfig("block_url")==""){if(f.getConfig("block_msg")==""||typeof(f.getConfig("block_msg"))!="string"){alert("[NetFUNNEL]Service Block!")}else{alert(f.getConfig("block_msg"))}return false}else{document.location.href=f.getConfig("block_url");return false}return false},onIpBlock:function(c,d){if(typeof d.next=="string"){document.location.href=d.next;return}if(typeof d.next=="function"){if(d.next(c,d)==false){return}}if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}NetFunnel.PopupSetup("vcontinue",d,NetFunnel.gSkinId)}};NetFunnel.Event=function(){this.events=[];this.builtinEvts=[]};NetFunnel.Event.prototype.getActionIdx=function(l,o,m,k){if(l&&o){var h=this.events[l][o];if(h){var j=h.length;for(var n=j-1;n>=0;n--){if(h[n].action==m&&h[n].binding==k){return n}}}else{return -1}}return -1};NetFunnel.Event.prototype.addListener=function(j,f,k,h){if(this.events[j]){if(this.events[j][f]){if(this.getActionIdx(j,f,k,h)==-1){var g=this.events[j][f];g[g.length]={action:k,binding:h}}}else{this.events[j][f]=[];this.events[j][f][0]={action:k,binding:h}}}else{this.events[j]=[];this.events[j][f]=[];this.events[j][f][0]={action:k,binding:h}}};NetFunnel.Event.prototype.removeListener=function(j,f,k,h){if(this.events[j]){if(this.events[j][f]){var g=this.actionExists(j,f,k,h);if(g>=0){this.events[j][f].splice(g,1)}}}};NetFunnel.Event.prototype.fireEvent=function(l,m,q,o){if(!l){l=window.event}if(m&&this.events){var p=this.events[m];if(p){var e=p[q];if(e){for(var k=0;e.length>k;k++){var n=e[k].action;if(e[k].binding){n=n.bind(e[k].binding)}n(l,o,m)}}}}};NetFunnel.gPopup=new Array();NetFunnel.PopupUtil={getViewportHeight:function(c,d){if(c.innerHeight!=c.undefined){return c.innerHeight}if(d.compatMode=="CSS1Compat"){return d.documentElement.clientHeight}if(d.body){return d.body.clientHeight}return c.undefined},getViewportWidth:function(h,e){var g=17;var f=null;if(h.innerWidth!=h.undefined){return h.innerWidth}if(e.compatMode=="CSS1Compat"){return e.documentElement.clientWidth}if(e.body){return e.body.clientWidth}return 0},getScrollTop:function(b){if(b.pageYOffset){return b.pageYOffset}else{if(b.documentElement&&typeof b.documentElement.scrollTop=="number"){return b.documentElement.scrollTop}else{if(b.body){return b.body.scrollTop}}}return 0},getScrollLeft:function(b){if(b.pageXOffset){return b.pageXOffset}else{if(b.documentElement&&typeof b.documentElement.scrollLeft=="number"){return b.documentElement.scrollLeft}else{if(b.body){return b.body.scrollLeft}}}return 0},resizePopup:function(){for(var b=0;NetFunnel.gPopup.length>b;b++){NetFunnel.gPopup[b]._centerPopWin()}},getObjWidth:function(b){if(!b){return 0}if(parseInt(b.style.width)>parseInt(b.offsetWidth)){width=parseInt(b.style.width)}else{width=b.offsetWidth}return width},getObjHeight:function(b){if(!b){return 0}if(parseInt(b.style.height)>parseInt(b.offsetHeight)){height=parseInt(b.style.height)}else{height=b.offsetHeight}return height},showBlockList:function(f){for(var e=0;e<f.length;e++){try{var g=f[e];g.popup=new NetFunnel.Popup("",NetFunnel.gPopupTop,NetFunnel.gPopupLeft,g.win);g.popup.show()}catch(h){}}},hideBlockList:function(f){for(var e=0;e<f.length;e++){try{var g=f[e];if(g.popup){g.popup.hide();g.popup.destroy();delete g.popup;g.popup=null}}catch(h){}}},hideWaitPopup:function(){if(typeof NetFunnel=="object"){if(NetFunnel.gWaitPop){NetFunnel.gWaitPop.hide();NetFunnel.gWaitPop.destroy();NetFunnel.gWaitPop=null}}},showWaitPopup:function(){if(typeof NetFunnel=="object"){var b='<div style="padding:2px;border:1px solid darkgray;"> 				<table> 					<tr>';if(NetFunnel.BrowserDetect.browser=="Explorer"&&NetFunnel.BrowserDetect.version=="6"){b+="<td></td>"}else{b+='<td><img style="" border=0 src="data:image/gif;base64,'+NetFunnel.gPreWaitData+'" ></td>'}b+='	<td style="valign:middle;font-size:9pt">wait...</td> 					</tr> 				</table> 			</div>';NetFunnel.gWaitPop=new NetFunnel.Popup(b,false,false,NetFunnel.gControl,true,"NetFunnel_Waiting_Popup");NetFunnel.gWaitPop.show()}},getDocumentEntireHeight:function(g){var e=g.body,h=g.documentElement;var f=Math.max(e.scrollHeight,e.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight);return f}};NetFunnel.Popup=function(B,y,D,F,r,z){if(typeof F=="object"){this._mWin=F;if(typeof F.document=="object"){this._mDoc=F.document}else{this._mWin=window;this._mDoc=document}}else{this._mWin=window;this._mDoc=document}if(typeof r!="boolean"){r=false}if(typeof z!="string"){z="NetFunnel_Loading_Popup"}var t=this._mDoc.getElementsByTagName("BODY")[0];if(!t){return}var E=this._mDoc.getElementById(z);if(!E||NetFunnel.SkinUtil.prevID!=NetFunnel.gSkinId){E=this._mDoc.createElement("div");E.id=z;E.style.display="none";E.style.top=0;E.style.left=0;E.innerHTML=B;t.appendChild(E);var w=this._mDoc.getElementById("NetFunnel_Loading_Popup_Progressbar");if(w){var u={count:50,interval:50};var x=parseInt(w.style.width);var v=parseInt(w.style.height);if(!isNaN(x)){u.width=x}if(!isNaN(v)){u.height=v}var G=new NetFunnel.ProgressBar(w,u,this._mDoc);G.show();this._mProgress=G}var C=this._mDoc.getElementById("NetFunnel_Countdown_Stop");if(C){C.onclick=NetFunnel.countdown_stop}this.new_draw=true}NetFunnel.SkinUtil.prevID=NetFunnel.gSkinId;var s=this._mDoc.getElementById("mpopup_bg");var A=this._mDoc.getElementById("pop_iframe");if(!s){s=this._mDoc.createElement("div");s.id="mpopup_bg";s.innerHTML="<div style='width:100%; height=100%'>&nbsp;</div>";s.style.position="absolute";s.style.zIndex="31200";s.style.top="0px";s.style.left="0px";s.style.width="100%";s.style.height=NetFunnel.PopupUtil.getDocumentEntireHeight(this._mDoc)+"px";s.style.margin="0";s.style.padding="0";s.style.border="0px solid black";s.fontSize="0";t.appendChild(s)}if(!A){A=this._mDoc.createElement("iframe");A.id="pop_iframe";A.frameborder="0";A.border="0";A.framespacing="0";A.marginheight="0";A.marginwidth="0";if(r){A.style.opacity="0";A.style.filter="alpha(opacity=0)"}else{A.style.opacity="50";A.style.filter="alpha(opacity=50)"}A.style.zIndex="31199";A.style.top="0px";A.style.left="0px";A.style.width="100%";A.style.height=NetFunnel.PopupUtil.getDocumentEntireHeight(this._mDoc)+"px";A.style.position="absolute";A.style.border="0px solid #FFFFFF";A.style.backgroundColor="#FFFFFF";t=this._mDoc.getElementsByTagName("BODY")[0];t.appendChild(A)}E.style.position="absolute";E.style.visibility="hidden";this._mCount++;this._mMask=s;this._mPopIFrame=A;this._mObj=E;this._mTop=y;this._mLeft=D;this.mid="mpopup_"+this._mCount;this.addListener(this._mWin,"resize",NetFunnel.PopupUtil.resizePopup);NetFunnel.gPopup.push(this)};NetFunnel.Popup.prototype=new NetFunnel.Event();NetFunnel.Popup.prototype._mCount=0;NetFunnel.Popup.prototype._mid="";NetFunnel.Popup.prototype._mWin=window;NetFunnel.Popup.prototype._mDoc=document;NetFunnel.Popup.prototype._mObj=null;NetFunnel.Popup.prototype._mMask=null;NetFunnel.Popup.prototype._mPopIFrame=null;NetFunnel.Popup.prototype._mIsShown=false;NetFunnel.Popup.prototype._mIframeResize=NetFunnel.TS_IFRAME_RESIZE;NetFunnel.Popup.prototype._mProgress=null;NetFunnel.Popup.prototype._setMaskSize=function(){var f=this._mDoc.getElementsByTagName("BODY")[0];if(!f){return}if(NetFunnel.Util.isSmartPhone()==true){var g=NetFunnel.PopupUtil.getViewportHeight(window,this._mDoc)}else{var g=NetFunnel.PopupUtil.getViewportHeight(this._mWin,this._mDoc)}var j=NetFunnel.PopupUtil.getViewportWidth(this._mWin,this._mDoc);var h=0;var k=0;if(g>f.scrollHeight){h=g}else{h=f.scrollHeight}if(j>f.scrollWidth){k=j}else{k=f.scrollWidth}};NetFunnel.Popup.prototype._centerPopWin=function(){if(this._mIsShown){var l=this._mDoc.getElementsByTagName("BODY")[0];if(!l){return}var k;if(NetFunnel.Util.isSmartPhone()==true){k=window}else{if(NetFunnel.BrowserDetect.browser=="Explorer"){k=this._mDoc}else{k=this._mWin}}var h=parseInt(NetFunnel.PopupUtil.getScrollTop(k),10);var m=parseInt(l.scrollLeft,10);this._setMaskSize();if(NetFunnel.Util.isSmartPhone()==true){var g=NetFunnel.PopupUtil.getViewportHeight(window,this._mDoc)}else{var g=NetFunnel.PopupUtil.getViewportHeight(this._mWin,this._mDoc)}var j=NetFunnel.PopupUtil.getViewportWidth(this._mWin,this._mDoc);if(typeof this._mTop=="number"){this._mObj.style.top=this._mTop+"px"}else{this._mObj.style.top=(h+((g-NetFunnel.PopupUtil.getObjHeight(this._mObj))/2))+"px"}if(typeof this._mLeft=="number"){this._mObj.style.left=this._mLeft+"px"}else{this._mObj.style.left=(m+((j-NetFunnel.PopupUtil.getObjWidth(this._mObj))/2))+"px"}if(this._mIframeResize&&typeof this._mPopIFrame=="object"){this._mPopIFrame.style.top=this._mObj.style.top;this._mPopIFrame.style.left=this._mObj.style.left;this._mPopIFrame.style.width=this._mObj.style.width;this._mPopIFrame.style.height=parseInt(this._mObj.style.height)+6}}};NetFunnel.Popup.prototype.getObj=function(b){return this._mDoc.getElementById(b)};NetFunnel.Popup.prototype.show=function(){var b=this._mDoc.getElementsByTagName("BODY")[0];if(!b){return}b.style.overflow="auto";this._mObj.style.zIndex="31202";this._mObj.style.visibility="visible";this._mObj.style.display="block";this._mMask.style.visiblity="visible";this._mMask.style.display="block";this._mPopIFrame.style.visiblity="visible";this._mPopIFrame.style.display="block";this._mIsShown=true;this._centerPopWin()};NetFunnel.Popup.prototype.hide=function(){var b=this._mDoc.getElementsByTagName("BODY")[0];if(!b){return}b.style.overflow="auto";this._mObj.style.visibility="hidden";this._mObj.style.display="none";this._mMask.style.visiblity="hidden";this._mMask.style.display="none";this._mPopIFrame.style.visiblity="hidden";this._mPopIFrame.style.display="none";this._mIsShown=false};NetFunnel.Popup.prototype.destroy=function(){var o=this._mDoc.getElementsByTagName("BODY")[0];if(!o){return}var m=NetFunnel.gPopup.length;try{var j=this._mDoc.getElementById("mpopup_bg");o.removeChild(j)}catch(k){}try{var n=this._mDoc.getElementById("pop_iframe");o.removeChild(n)}catch(k){}for(var e=0;e<m;e++){var l=NetFunnel.gPopup.pop();if(l.mid==this.mid){try{o.removeChild(l._mObj)}catch(k){}delete l;continue}NetFunnel.gPopup.push(l)}if(this._mProgress){this._mProgress.hide()}};NetFunnel.RetVal=function(b){this._mParam=new Object();this._mRtype=parseInt(b.substr(0,4));this._mCode=parseInt(b.substr(5,3));this._mRetStr=b.substr(9,b.length-9);this._parse()};NetFunnel.RetVal.prototype._ltrim=function(c){for(var d=0;d<c.length&&this._isWhitespace(c.charAt(d));d++){}return c.substring(d,c.length)};NetFunnel.RetVal.prototype._rtrim=function(c){for(var d=c.length-1;d>=0&&this._isWhitespace(c.charAt(d));d--){}return c.substring(0,d+1)};NetFunnel.RetVal.prototype._trim=function(b){return this._ltrim(this._rtrim(b))};NetFunnel.RetVal.prototype._isWhitespace=function(d){var c=" \t\n\r\f";return(c.indexOf(d)!=-1)};NetFunnel.RetVal.prototype._parse=function(){var g="";var k="";var j="";var h=this._mRetStr.split("&");for(var f=0;h.length>f;f++){g=h[f].split("=");if(g.length>1){k=this._trim(g[0]);j=this._trim(g[1]);this._mParam[k]=j}}};NetFunnel.RetVal.prototype.getRetCode=function(){return this._mCode};NetFunnel.RetVal.prototype.setRetCode=function(b){return(this._mCode=b)};NetFunnel.RetVal.prototype.getReqType=function(){return this._mRtype};NetFunnel.RetVal.prototype.setReqType=function(b){return(this._mRtype=b)};NetFunnel.RetVal.prototype.getRetStr=function(){return this._mRetStr};NetFunnel.RetVal.prototype.getValue=function(d){try{return this._mParam[d]}catch(c){return null}};NetFunnel.RetVal.prototype.setValue=function(e,h){var f=null;try{if(this.isKeyExist(e)){f=this.getValue(e)}this._mParam[e]=h;return f}catch(g){return null}};NetFunnel.RetVal.prototype.getNumber=function(d){try{return parseInt(this._mParam[d])}catch(c){return 0}};NetFunnel.RetVal.prototype.isKeyExist=function(d){try{if(this._mParam[d]!=null){return true}}catch(c){}return false};NetFunnel.RetVal.prototype.getParam=function(){return this._mParam};NetFunnel.TsClient=function(e,h){this.mConfig=new Object();this.mConfig.host=NetFunnel.TS_HOST;this.mConfig.port=NetFunnel.TS_PORT;this.mConfig.proto=NetFunnel.TS_PROTO;this.mConfig.query=NetFunnel.TS_QUERY;this.mConfig.max_ttl=NetFunnel.TS_MAX_TTL;this.mConfig.conn_timeout=NetFunnel.TS_CONN_TIMEOUT;this.mConfig.conn_retry=NetFunnel.TS_CONN_RETRY;this.mConfig.cookie_id=NetFunnel.TS_COOKIE_ID;this.mConfig.cookie_time=NetFunnel.TS_COOKIE_TIME;this.mConfig.cookie_domain=NetFunnel.TS_COOKIE_DOMAIN;this.mConfig.showcnt_limit=NetFunnel.TS_SHOWCNT_LIMIT;this.mConfig.showtime_limit=NetFunnel.TS_SHOWTIME_LIMIT;this.mConfig.shownext_limit=NetFunnel.TS_SHOWNEXT_LIMIT;this.mConfig.popup_top=NetFunnel.TS_POPUP_TOP;this.mConfig.popup_left=NetFunnel.TS_POPUP_LEFT;this.mConfig.skin_id=NetFunnel.TS_SKIN_ID;this.mConfig.use_unfocus=NetFunnel.TS_USE_UNFOCUS;this.mConfig.virt_wait=NetFunnel.TS_VIRT_WAIT;this.mConfig.use_mobile_ui=NetFunnel.TS_USE_MOBILE_UI;this.mConfig.mp_use=NetFunnel.MP_USE;this.mConfig.use_frame_block=NetFunnel.TS_USE_FRAME_BLOCK;this.mConfig.frame_block_list=NetFunnel.TS_FRAME_BLOCK_LIST;this.mConfig.use_pre_wait=NetFunnel.TS_USE_PRE_WAIT;this.mConfig.popup_target=NetFunnel.TS_POPUP_TARGET;this.mConfig.user_data=false;this.mConfig.user_data_keys=NetFunnel.TS_USER_DATA_KEYS;this.mConfig.block_msg=NetFunnel.TS_BLOCK_MSG;this.mConfig.block_url=NetFunnel.TS_BLOCK_URL;this.mConfig.ipblock_wait_count=NetFunnel.TS_IPBLOCK_WAIT_COUNT;this.mConfig.ipblock_wait_time=NetFunnel.TS_IPBLOCK_WAIT_TIME;this.mConfig.service_id=NetFunnel.TS_SERVICE_ID;this.mConfig.action_id=NetFunnel.TS_ACTION_ID;this.mConfig.show_wait_popup=NetFunnel.TS_SHOW_WAIT_POPUP;this.mConfig.config_use=NetFunnel.TS_CONFIG_USE;this.mConfig._host_changed=false;this.mConfig._port_changed=false;if(typeof e=="object"){for(var f in e){this.mConfig[f]=e[f];if(f=="host"){this.mConfig._host_changed=true}if(f=="port"){this.mConfig._port_changed=true}}}NetFunnel.gPopupLeft=this.mConfig.popup_left;NetFunnel.gPopupTop=this.mConfig.popup_top;NetFunnel.gPopupLeft=this.mConfig.popup_left;NetFunnel.gBlockList=this.mConfig.block_list;if(this.mConfig.skin_id==""){NetFunnel.gSkinId=NetFunnel.TS_SKIN_ID}else{NetFunnel.gSkinId=this.mConfig.skin_id}if(typeof this.mConfig.use_unfocus!="boolean"){if(typeof this.mConfig.use_unfocus=="string"&&this.mConfig.use_unfocus=="true"){this.mConfig.use_unfocus=true}else{this.mConfig.use_unfocus=false}}NetFunnel.gUseUnfocus=this.mConfig.use_unfocus;if(typeof this.mConfig.use_mobile_ui!="boolean"){if(typeof this.mConfig.use_mobile_ui=="string"&&this.mConfig.use_mobile_ui=="true"){this.mConfig.use_mobile_ui=true}else{this.mConfig.use_mobile_ui=false}}NetFunnel.gUseMobileUI=this.mConfig.use_mobile_ui;if(typeof this.mConfig.use_frame_block!="boolean"){if(typeof this.mConfig.use_frame_block=="string"&&this.mConfig.use_frame_block=="true"){this.mConfig.use_frame_block=true}else{this.mConfig.use_frame_block=false}}if(this.mConfig.use_frame_block==true){if(this.mConfig.frame_block_list.length<1){this.mConfig.frame_block_list=NetFunnel.Util.getFrameWindowList(this.mConfig.popup_target)}}else{this.mConfig.frame_block_list=[]}this.id=0;NetFunnel.TsClient._Objects[this.id]=this;NetFunnel.TsClient._Count=NetFunnel.TsClient._Count+1;if(h.onSuccess){this.addListener(this,"onSuccess",h.onSuccess)}if(h.onContinued){this.addListener(this,"onContinued",h.onContinued)}if(h.onBypass){this.addListener(this,"onBypass",h.onBypass)}if(h.onBlock){this.addListener(this,"onBlock",h.onBlock)}if(h.onIpBlock){this.addListener(this,"onIpBlock",h.onIpBlock)}if(h.onError){this.addListener(this,"onError",h.onError)}if(h.onStop){this.addListener(this,"onStop",h.onStop)}if(h.onExpressnumber){this.addListener(this,"onExpressnumber",h.onExpressnumber)}this.counter[NetFunnel.RTYPE_NONE]=0;this.counter[NetFunnel.RTYPE_GET_TID_CHK_ENTER]=0;this.counter[NetFunnel.RTYPE_GET_TID]=0;this.counter[NetFunnel.RTYPE_CHK_ENTER]=0;this.counter[NetFunnel.RTYPE_ALIVE_NOTICE]=0;this.counter[NetFunnel.RTYPE_SET_COMPLETE]=0;this.counter[NetFunnel.RTYPE_INIT]=0;this.counter[NetFunnel.RTYPE_STOP]=0;this.connTimeout=function g(a){if(this!=NetFunnel.gControl){return g.apply(NetFunnel.gControl,arguments)}if(NetFunnel.gAlreadyProc!=0){return false}this._resetScript();if(this.counter[this._mReqType]<this.mConfig.conn_retry){this._mStatus=NetFunnel.PS_TIMEOUT;this.counter[this._mReqType]+=1;switch(this._mReqType){case NetFunnel.RTYPE_GET_TID:this.getTicketID(this.user_id,this.user_tid,false);return true;break;case NetFunnel.RTYPE_CHK_ENTER:this.chkEnter(this.key,false);return true;break;case NetFunnel.RTYPE_GET_TID_CHK_ENTER:this.getTidChkEnter(this.user_id,this.user_tid,false);return true;break;case NetFunnel.RTYPE_ALIVE_NOTICE:this.aliveNotice(this.key,"","",false);return true;break;case NetFunnel.RTYPE_SET_COMPLETE:this.setComplete(this.key,"","",false);return true;break;default:}}NetFunnel.PopupUtil.hideWaitPopup();if(this._mReqType==NetFunnel.RTYPE_CHK_ENTER||this._mReqType==NetFunnel.RTYPE_GET_TID_CHK_ENTER){var b=new NetFunnel.Storage(2);b.setItem(this.mConfig.cookie_id,"5002:200:key="+NetFunnel.CONN_TIMEOUT_KEY,1,this.mConfig.cookie_domain)}if(NetFunnel.gAlreadyProc>=1){return false}this.fireEvent(null,this,"onError",{rtype:this._mReqType,code:NetFunnel.kErrorSockConnect,data:{msg:"Connection Timeout"},next:this.next.error});this._mStatus=NetFunnel.PS_ERROR;return true}};NetFunnel.TsClient._Count=0;NetFunnel.TsClient._Objects=new Object();NetFunnel.TsClient.prototype=new NetFunnel.Event();NetFunnel.TsClient.prototype._initDone=false;NetFunnel.TsClient.prototype.id=null;NetFunnel.TsClient.prototype.mConfig=null;NetFunnel.TsClient.prototype.key=null;NetFunnel.TsClient.prototype.script=null;NetFunnel.TsClient.prototype.alarm=null;NetFunnel.TsClient.prototype._mReqType=NetFunnel.RTYPE_NONE;NetFunnel.TsClient.prototype._mMousePos=0;NetFunnel.TsClient.prototype._mNoActTime=0;NetFunnel.TsClient.prototype._mStatus=NetFunnel.PS_N_RUNNING;NetFunnel.TsClient.prototype.counter=new Object();NetFunnel.TsClient.prototype.next={success:"",error:""};NetFunnel.TsClient.prototype.init=function(){this._nCount++;this._initDone=true};NetFunnel.TsClient.prototype.getConfig=function(b){return this.mConfig[b]};NetFunnel.TsClient.prototype._isNoAction=function(){if(this._mMousePos==NetFunnel.MouseX){return true}this._mMousePos=NetFunnel.MouseX;return false};NetFunnel.TsClient.prototype._resetAlarm=function(){if(this.alarm!=null){clearTimeout(this.alarm)}this.alarm=null};NetFunnel.TsClient.prototype._resetRetryTimer=function(){if(this.retryTimer!=null){clearTimeout(this.retryTimer)}this.retryTimer=null};NetFunnel.TsClient.prototype._resetScript=function(){try{if(this.script&&typeof this.script=="object"){var d=this.script.parentNode;if(d&&typeof d=="object"){d.removeChild(this.script)}}}catch(c){}this.script=null};NetFunnel.TsClient.prototype.getUserdata=function(){try{var userdata="";var uKey=this.mConfig.user_data_keys;if(typeof this.mConfig.user_data=="string"){return this.mConfig.user_data}if(Object.prototype.toString.call(uKey).slice(8,-1)!="Array"){return false}for(i=0;i<uKey.length;i++){var keydata=uKey[i];if(typeof keydata!="object"){continue}if(keydata.type=="v"){try{userdata=eval(keydata.key);if(userdata!=""){break}}catch(e){}}if(keydata.type=="c"){userdata=NetFunnel.Cookie.get(keydata.key);if(userdata!=""){break}}}return userdata}catch(e){return false}};NetFunnel.TsClient.prototype._showResult=function(){this._resetAlarm();if(NetFunnel.gAlreadyProc==1&&NetFunnel.gRtype==NetFunnel.RTYPE_GET_TID_CHK_ENTER){return}NetFunnel.gAlreadyProc=1;NetFunnel.PopupUtil.hideWaitPopup();this.retval=new NetFunnel.RetVal(this.result);if(this.retval.getReqType()==NetFunnel.RTYPE_GET_TID_CHK_ENTER){this.retval.setReqType(NetFunnel.RTYPE_CHK_ENTER)}if(NetFunnel.TS_DEBUG_MODE){NetFunnel.printDebugMsg("recv",this.result)}NetFunnel.ttl=0;this.counter[this._mReqType]=0;if(this.retval.getRetCode()==NetFunnel.kContinueDebug){NetFunnel.gDebugflag=true}else{NetFunnel.gDebugflag=false}switch(this.retval.getReqType()){case NetFunnel.RTYPE_GET_TID:this._showResultGetTicketID(this.retval);break;case NetFunnel.RTYPE_CHK_ENTER:this._showResultChkEnter(this.retval);break;case NetFunnel.RTYPE_ALIVE_NOTICE:this._showResultAliveNotice(this.retval);break;case NetFunnel.RTYPE_SET_COMPLETE:this._showResultSetComplete(this.retval);break;default:var b=new NetFunnel.Storage(2);b.removeItem(this.mConfig.cookie_id);this.fireEvent(null,this,"onError",{rtype:NetFunnel.RTYPE_NONE,code:this.retval.getRetCode(),data:this.retval.getParam(),next:this.next.error});this._mStatus=NetFunnel.PS_ERROR}};NetFunnel.TsClient.prototype._showResultGetTicketID=function(d){switch(d.getRetCode()){case NetFunnel.kSuccess:var c=new NetFunnel.Storage(2);c.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:d.getReqType(),code:d.getRetCode(),data:d.getParam(),next:this.next.success});break;default:var c=new NetFunnel.Storage(2);c.removeItem(this.mConfig.cookie_id);this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:d.getReqType(),code:d.getRetCode(),data:d.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._showResultChkEnter=function(f){switch(f.getRetCode()){case NetFunnel.kSuccess:var h=new NetFunnel.Storage(2);h.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);this._mStatus=NetFunnel.PS_N_RUNNING;NetFunnel.gNWaitTemp=0;NetFunnel.gNWaitCount=0;this.fireEvent(null,this,"onSuccess",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.success});break;case NetFunnel.kContinueDebug:case NetFunnel.kContinue:this._mStatus=NetFunnel.PS_CONTINUE;var g=f.getNumber("ttl");if(g>this.mConfig.max_ttl){g=this.mConfig.max_ttl;f.setValue("ttl",g)}var j=f.getNumber("nwait");if(NetFunnel.TS_NWAIT_BYPASS){if(NetFunnel.gNWaitTemp==j){NetFunnel.gNWaitCount=NetFunnel.gNWaitCount+1}else{NetFunnel.gNWaitTemp=j;NetFunnel.gNWaitCount=0}if(NetFunnel.TS_MAX_NWAIT_COUNT<=NetFunnel.gNWaitCount){this.fireEvent(null,this,"onSuccess",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.success});break}}this.fireEvent(null,this,"onContinued",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.continued});NetFunnel.gAlreadyProc=0;if(g>0&&this._mStatus!=NetFunnel.PS_N_RUNNING){if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.ttl=g;var k=this;this.retryTimer=setTimeout(function(){k.chkEnterCont(k.retval.getValue("key"))},g*1000)}break;case NetFunnel.kTsBlock:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBlock",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.block});if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.ttl=g;break;case NetFunnel.kTsIpBlock:this._mStatus=NetFunnel.PS_N_RUNNING;if(this.retryTimer){clearTimeout(this.retryTimer)}this.fireEvent(null,this,"onIpBlock",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.ipblock});NetFunnel.gAlreadyProc=0;if(this.mConfig.ipblock_wait_count>=NetFunnel.gIPBlockWaitCount+1){var k=this;NetFunnel.gReTimer=setTimeout(function(){k.getTidChkEnter("","","true")},this.mConfig.ipblock_wait_time)}else{var h=new NetFunnel.Storage(2);h.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.success});break}if(this.mConfig.ipblock_wait_count!=0){NetFunnel.gIPBlockWaitCount=NetFunnel.gIPBlockWaitCount+1}break;case NetFunnel.kTsBypass:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBypass",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.bypass});break;case NetFunnel.kTsExpressNumber:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onExpressnumber",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.expressnumber});break;default:var h=new NetFunnel.Storage(2);h.removeItem(this.mConfig.cookie_id);this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:f.getReqType(),code:f.getRetCode(),data:f.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._showResultAliveNotice=function(e){switch(e.getRetCode()){case NetFunnel.kSuccess:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:e.getReqType(),code:e.getRetCode(),data:e.getParam(),next:this.next.success});break;case NetFunnel.kContinueDebug:case NetFunnel.kContinue:this._mStatus=NetFunnel.PS_CONTINUE;if(this._mNoActTime>this.mConfig.no_action){this.fireEvent(null,this,"onError",{rtype:e.getReqType(),code:NetFunnel.kTsErrorNoUserAction,data:e.getParam(),next:this.next.error});this._mNoActTime=0;this._mStatus=NetFunnel.PS_ERROR;break}var f=e.getNumber("ttl");if(f>this.mConfig.max_ttl){f=this.mConfig.max_ttl;e.setValue("ttl",f)}this.fireEvent(null,this,"onContinued",{rtype:e.getReqType(),code:e.getRetCode(),data:e.getParam(),next:this.next.continued});NetFunnel.gAlreadyProc=0;if(f>0&&this._mStatus!=NetFunnel.PS_N_RUNNING){if(this.retryTimer){clearTimeout(this.retryTimer)}if(this._isNoAction()){this._mNoActTime+=f}else{this._mNoActTime=0}var g=new NetFunnel.Storage(2);g.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);var h=this;this.retryTimer=setTimeout(function(){h.aliveNoticeCont(h.retval.getValue("key"),h.retval.getValue("ip"),h.retval.getValue("port"),h.retval.getValue("first"))},f*1000)}break;case NetFunnel.kTsBlock:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBlock",{rtype:e.getReqType(),code:e.getRetCode(),data:e.getParam(),next:this.next.block});break;case NetFunnel.kTsExpressNumber:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onExpressnumber",{rtype:e.getReqType(),code:e.getRetCode(),data:e.getParam(),next:this.next.expressnumber});break;case NetFunnel.kTsBypass:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBypass",{rtype:e.getReqType(),code:e.getRetCode(),data:e.getParam(),next:this.next.bypass});break;case NetFunnel.kTsIpBlock:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onIpBlock",{rtype:e.getReqType(),code:e.getRetCode(),data:e.getParam(),next:this.next.ipblock});break;default:if(e.getRetCode()==NetFunnel.kErrorExpiredTime){var g=new NetFunnel.Storage(2);g.removeItem(this.mConfig.cookie_id)}this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:e.getReqType(),code:e.getRetCode(),data:e.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._showResultSetComplete=function(d){var c=new NetFunnel.Storage(2);c.removeItem(this.mConfig.cookie_id);switch(d.getRetCode()){case NetFunnel.kSuccess:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:d.getReqType(),code:d.getRetCode(),data:d.getParam(),next:this.next.success});break;default:this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:d.getReqType(),code:d.getRetCode(),data:d.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._connInit=function(c){this.result=null;this._mReqType=c;this._resetAlarm();this._resetScript();this._resetRetryTimer();var d=this;this.alarm=setTimeout(function(){d.connTimeout(0)},parseInt(this.mConfig.conn_timeout)*1000);if(!this.mConfig.host||this.mConfig.host==""){return false}if(!this.mConfig.port||this.mConfig.port==""){return false}if(!this.mConfig.query||this.mConfig.query==""){return false}if(!this.mConfig.service_id||this.mConfig.service_id==""){return false}if(!this.mConfig.action_id||this.mConfig.action_id==""){return false}this._mStatus=NetFunnel.PS_RUNNING;return true};NetFunnel.TsClient.prototype._sendRequest=function(d){this.script=document.createElement("script");this.script.src=d;var c=document.getElementsByTagName("head").item(0);if(NetFunnel.TS_DEBUG_MODE){NetFunnel.printDebugMsg("send",d)}c.appendChild(this.script);return true};NetFunnel.TsClient.prototype._sendError=function(f,e){var d="";switch(e){case NetFunnel.kErrorAlready:d="Already running";break;case NetFunnel.kErrorNoinit:d="Uninitialized object";break;case NetFunnel.kErrorSystem:default:d="System error"}this.fireEvent(null,this,"onError",{rtype:f,code:e,data:{msg:d},next:this.next.error})};NetFunnel.TsClient.prototype.setNext=function(d){if(typeof d=="object"){this.next=d}else{try{this.next.success=undefined;this.next.continued=undefined;this.next.bypass=undefined;this.next.expressnumber=undefined;this.next.block=undefined;this.next.ipblock=undefined;this.next.error=undefined;this.next.stop=undefined}catch(c){this.next.success=window.undefined;this.next.continued=window.undefined;this.next.bypass=window.undefined;this.next.expressnumber=window.undefined;this.next.block=window.undefined;this.next.ipblock=window.undefined;this.next.error=window.undefined;this.next.stop=window.undefined}}};NetFunnel.TsClient.prototype.sendStop=function(b){if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(b=="undefined"){b=true}if(b){this.counter[NetFunnel.RTYPE_STOP]=0}this._resetAlarm();this._resetRetryTimer();this._resetScript();this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});this._mStatus=NetFunnel.PS_N_RUNNING;return true};NetFunnel.TsClient.prototype.getTicketID=function(k,n,l){NetFunnel.gPrevWaitTime=-1;if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this.mConfig.use_unfocus==true){NetFunnel.Util.delFocus(this.getConfig("popup_target"))}NetFunnel.gTotWait=-1;NetFunnel.retryData=null;var o=(this.mConfig.mp_use==true)?NetFunnel.MProtect():0;if(o!=0){this.fireEvent(null,this,"onContinued",{rtype:NetFunnel.RTYPE_CHK_ENTER,code:NetFunnel.kContinue,data:{tps:1,eps:2,nwait:(NetFunnel.gControl.getConfig("showcnt_limit")*2),mprotect:o,ttl:10}});if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.retryData={user_id:k,user_tid:n,first:l};var j=this;this.retryTimer=setTimeout(function(){j.retryFunction(NetFunnel.RTYPE_GET_TID)},this.mConfig.virt_wait);return false}if(l=="undefined"){l=true}if(l){this.counter[NetFunnel.RTYPE_GET_TID]=0}if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_GET_TID,NetFunnel.kErrorAlready);return false}this.user_id=k;this.user_tid=n;var p=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_GET_TID+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_GET_TID+";";p+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;var q=this.getUserdata();if(q!=""){p+="&user_data="+q}p+="&js=yes";var m=new Date();p+="&"+m.getTime();if(!this._connInit(NetFunnel.RTYPE_GET_TID)){this._sendError(NetFunnel.RTYPE_GET_TID,NetFunnel.kErrorNoinit);return false}this._sendRequest(p);return true};NetFunnel.TsClient.prototype.chkEnter=function(d,c){if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready);return false}return this.chkEnterProc(d,c)};NetFunnel.TsClient.prototype.chkEnterCont=function(d,c){if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready);return false}return this.chkEnterProc(d,c)};NetFunnel.TsClient.prototype.chkEnterProc=function(n,k){if(k=="undefined"){k=true}if(k){this.counter[NetFunnel.RTYPE_CHK_ENTER]=0}if(!n||n==""){if(this.key){n=this.key}else{this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorParam);return false}}this.key=n;var l=this.retval.getValue("ip");if(this.mConfig.conn_retry>1&&this.counter[this._mReqType]==(this.mConfig.conn_retry)){l=this.mConfig.config_use}var j=this.retval.getValue("port");var o="";if(l&&l!=""&&j&&j!=""&&!this.mConfig.config_use){o=this.mConfig.proto+"://"+l+":"+j+"/"}else{o=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"}o=o+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_CHK_ENTER+"&key="+n+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_CHK_ENTER+";";if(NetFunnel.ttl>0){o=o+"&ttl="+NetFunnel.ttl}o+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;var h=this.getUserdata();if(h!=""){o+="&user_data="+h}o+="&js=yes";var m=new Date();o+="&"+m.getTime();if(!this._connInit(NetFunnel.RTYPE_CHK_ENTER)){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorNoinit);return false}this._sendRequest(o);return true};NetFunnel.retryData=null;NetFunnel.retryFunction=function(c){if(typeof NetFunnel.retryData=="object"){var d=NetFunnel.retryData;if(c==NetFunnel.RTYPE_GET_TID){NetFunnel.gControl.getTicketID(d.user_id,d.user_tid,d.first)}else{if(c==NetFunnel.RTYPE_GET_TID_CHK_ENTER){NetFunnel.gControl.getTidChkEnter(d.user_id,d.user_tid,d.first)}}}};NetFunnel.TsClient.prototype.getTidChkEnter=function(g,j,h){NetFunnel.gPrevWaitTime=-1;if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready);return false}if(this.mConfig.use_unfocus==true){NetFunnel.Util.delFocus(this.getConfig("popup_target"))}NetFunnel.gTotWait=-1;NetFunnel.retryData=null;var k=(this.mConfig.mp_use==true)?NetFunnel.MProtect():0;if(k==0&&this.mConfig.show_wait_popup==false){if(this.getConfig("use_pre_wait")){NetFunnel.PopupUtil.showWaitPopup()}return(this.getTidChkEnterProc(g,j,h))}else{this.fireEvent(null,this,"onContinued",{rtype:NetFunnel.RTYPE_CHK_ENTER,code:NetFunnel.kContinue,data:{tps:1,eps:2,nwait:(NetFunnel.gControl.getConfig("showcnt_limit")*2),mprotect:k,ttl:10}});if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.retryData={user_id:g,user_tid:j,first:h};var f=this;this.retryTimer=setTimeout(function(){NetFunnel.retryFunction(NetFunnel.RTYPE_GET_TID_CHK_ENTER)},this.mConfig.virt_wait);return false}};NetFunnel.TsClient.prototype.getTidChkEnterProc=function(h,l,j){if(j=="undefined"){j=true}if(j){this.counter[NetFunnel.RTYPE_GET_TID_CHK_ENTER]=0}this.user_id=h;this.user_tid=l;var m=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_GET_TID_CHK_ENTER+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_GET_TID_CHK_ENTER+";";if(NetFunnel.ttl>0){m=m+"&ttl="+NetFunnel.ttl}m+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;m+="&js=yes";var g=this.getUserdata();if(g!=""){m+="&user_data="+g}var k=new Date();m+="&"+k.getTime();if(!this._connInit(NetFunnel.RTYPE_GET_TID_CHK_ENTER)){this._sendError(NetFunnel.RTYPE_GET_TID_CHK_ENTER,NetFunnel.kErrorNoinit);return false}this._sendRequest(m);return true};NetFunnel.TsClient.prototype.aliveNoticeProc=function(n,k,j,l){if(l=="undefined"){l=true}if(l){this.counter[NetFunnel.RTYPE_ALIVE_NOTICE]=0}if(!n||n==""){if(this.key){n=this.key}else{this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorParam);return false}}this.key=n;this.ip=k;this.port=j;if(this.mConfig.conn_retry>1&&(this.counter[this._mReqType]==this.mConfig.conn_retry)){k=this.mConfig.config_use}var o="";if(k&&k!=""&&j&&j!=""&&!this.mConfig.config_use){this.ip=(this.mConfig._host_changed==false)?k:this.mConfig.host;this.port=(this.mConfig._port_changed==false)?j:this.mConfig.port;o=this.mConfig.proto+"://"+this.ip+":"+this.port+"/"}else{o=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"}o=o+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_ALIVE_NOTICE+"&key="+n+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_ALIVE_NOTICE+";";o+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;var h=this.getUserdata();if(h!=""){o+="&user_data="+h}o+="&js=yes";var m=new Date();o+="&"+m.getTime();if(!this._connInit(NetFunnel.RTYPE_ALIVE_NOTICE)){this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorNoinit);return false}this._sendRequest(o);return true};NetFunnel.TsClient.prototype.aliveNotice=function(e,g,f,h){if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorAlready);return false}return this.aliveNoticeProc(e,g,f,h)};NetFunnel.TsClient.prototype.aliveNoticeCont=function(e,g,f,h){if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorAlready);return false}return this.aliveNoticeProc(e,g,f,h)};NetFunnel.TsClient.prototype.setComplete=function(l,n,p,o){var k=new NetFunnel.Storage();k.setItemStorageOnly("NFMPT.reqCnt","0");if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(o=="undefined"){o=true}if(o){this.counter[NetFunnel.RTYPE_SET_COMPLETE]=0}if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorAlready);return false}if(!l||l==""){if(this.key){l=this.key}else{this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorParam);return false}}this.key=l;this.ip=n;if(this.mConfig.conn_retry>1&&this.counter[this._mReqType]==(this.mConfig.conn_retry-1)){n=this.mConfig.config_use}this.port=p;if(l==NetFunnel.CONN_TIMEOUT_KEY){var r=new NetFunnel.RetVal(NetFunnel.RTYPE_SET_COMPLETE+":"+NetFunnel.kSuccess+":utime=1");this._showResultSetComplete(r);return true}var s="";if(n&&n!=""&&p&&p!=""&&!this.mConfig.config_use){this.ip=(this.mConfig._host_changed==false)?n:this.mConfig.host;this.port=(this.mConfig._port_changed==false)?p:this.mConfig.port;s=this.mConfig.proto+"://"+this.ip+":"+this.port+"/"}else{s=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"}s=s+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_SET_COMPLETE+"&key="+l+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_SET_COMPLETE+";";var m=this.getUserdata();if(m!=""){s+="&user_data="+m}s+="&js=yes";var q=new Date();s+="&"+q.getTime();if(!this._connInit(NetFunnel.RTYPE_SET_COMPLETE)){this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorNoinit);return false}this._sendRequest(s);return true};NetFunnel.TsClient.prototype.cookieExist=function(){var g=new NetFunnel.Storage(2);var f=g.getItem(this.mConfig.cookie_id);if(f==false||f==""){return false}var e=new NetFunnel.RetVal(f);var h=e.getValue("key");if(!h){g.removeItem(this.mConfig.cookie_id);return false}return true};NetFunnel.TsClient.prototype.isRunning=function(){if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){return true}return false};function NetFunnel_init(f,e,d){if(NetFunnel.gControl){NetFunnel.gControl._resetScript();NetFunnel.gControl=null}if(typeof d=="undefined"){d=NetFunnel.DefaultCallback}else{if(!d.onSuccess){d.onSuccess=NetFunnel.DefaultCallback.onSuccess}if(!d.onContinued){d.onContinued=NetFunnel.DefaultCallback.onContinued}if(!d.onError){d.onError=NetFunnel.DefaultCallback.onError}if(!d.onStop){d.onStop=NetFunnel.DefaultCallback.onStop}if(!d.onBypass){d.onBypass=NetFunnel.DefaultCallback.onBypass}if(!d.onBlock){d.onBlock=NetFunnel.DefaultCallback.onBlock}if(!d.onExpressnumber){d.onExpressnumber=NetFunnel.DefaultCallback.onExpressnumber}if(!d.onIpBlock){d.onIpBlock=NetFunnel.DefaultCallback.onIpBlock}}NetFunnel.gControl=new NetFunnel.TsClient(e,d);return true}function NetFunnel_sendStop(d){try{if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(d);NetFunnel.gControl.sendStop();return true}catch(c){return false}}function NetFunnel_getTicketID(f,e,d){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(f);NetFunnel.gControl.getTicketID(e,d);return true}function NetFunnel_chkEnter(j){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;var k;if(typeof data!="undefined"&&data.constructor==Object){k=data.key;if(!k){return false}}else{var h=new NetFunnel.Storage(2);var g=h.getItem(NetFunnel.gControl.mConfig.cookie_id);if(g==null||g==""){return false}var f=new NetFunnel.RetVal(g);k=f.getValue("key");if(!k){var h=new NetFunnel.Storage(2);h.removeItem(this.mConfig.cookie_id);return false}}NetFunnel.gControl.setNext(j);NetFunnel.gControl.chkEnter(k);return true}function NetFunnel_getTidChkEnter(f,e,d){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(f);NetFunnel.gControl.getTidChkEnter(e,d);return true}function NetFunnel_aliveNotice(n,o){try{if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;var l="";var m="";var r="";if(typeof o!="undefined"&&o.constructor==Object){l=o.key;if(!l){return false}m=o.ip;r=o.port}else{var p=new NetFunnel.Storage(2);var k=p.getItem(NetFunnel.gControl.mConfig.cookie_id);if(k==null||k==""){return false}var s=new NetFunnel.RetVal(k);l=s.getValue("key");if(!l){p.removeItem(this.mConfig.cookie_id);return false}m=s.getValue("ip");r=s.getValue("port")}NetFunnel.gControl.setNext(n);NetFunnel.gControl.aliveNotice(l,m,r);return true}catch(q){return false}}function NetFunnel_setComplete(o,n){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(o);var p="";var l="";var q="";if(typeof n!="undefined"&&n.constructor==Object){p=n.key;if(!p){NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem);return false}l=n.ip;q=n.port}else{var m=new NetFunnel.Storage(2);var k=m.getItem(NetFunnel.gControl.mConfig.cookie_id);if(k==null||k==""){NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem);return false}else{var j=new NetFunnel.RetVal(k);p=j.getValue("key");if(!p){var m=new NetFunnel.Storage(2);m.removeItem(NetFunnel.gControl.mConfig.cookie_id);NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem);return false}l=j.getValue("ip");q=j.getValue("port")}}NetFunnel.gControl.setComplete(p,l,q);return true}function NetFunnel_cookieExist(){if(!NetFunnel.gControl){return false}return NetFunnel.gControl.cookieExist()}function NetFunnel_isRunning(){if(!NetFunnel.gControl){return false}return NetFunnel.gControl.isRunning()}function NetFunnel_goForm(j,k,g){var h=null;if(typeof k=="string"){h=document.getElementById(k);if(typeof h!="object"||h==null){var f=document.getElementsByName(k);h=f[0];if(typeof h!="object"||h==null){alert("[NetFUNNEL] Invalid input form");return false}}}else{if(typeof k=="object"){h=k}else{alert("[NetFUNNEL] Invalid input form");return false}}if(typeof g!="function"){g=function(a,b){return false}}NetFunnel_init(null,j);NetFunnel_getTidChkEnter({success:function(a,b){if(h!=null){h.submit()}},error:function(a,b){if(h!=null){h.submit()}},bypass:function(a,b){if(h!=null){h.submit()}},stop:g});return false}function NetFunnel_goUrl(f,e,d){if(typeof e!="string"){alert("[NetFUNNEL] Invalid input url");return false}if(typeof d!="function"){d=function(a,b){return false}}NetFunnel_init(null,f);NetFunnel_getTidChkEnter({success:e,error:e,bypass:e,stop:d});return false}function NetFunnel_goFunc(f,d,e){if(typeof d!="function"){alert("[NetFUNNEL] Invalid input function");return false}if(typeof e!="function"){e=function(a,b){return false}}NetFunnel_init(null,f);NetFunnel_getTidChkEnter({success:d,error:d,bypass:d,stop:e});return false}function NetFunnel_goComplete(c,d){if(typeof d!="function"){d=function(a,b){return false}}NetFunnel_init(null,c);NetFunnel_setComplete({success:d,error:d,bypass:d});return false}function NetFunnel_goAliveNotice(c,d){if(typeof d!="function"){d=function(a,b){return false}}NetFunnel_init(null,c);NetFunnel_aliveNotice({success:d,error:d,bypass:d});return false}function NetFunnel_Action(r,t){var n=null;var m=t.success;var v=t.continued;var o=t.stop;var p=t.error;var s=t.bypass;var u=t.block;var q=t.ipblock;var w=t.expressnumber;if(typeof t.success=="undefined"){m=t}if(typeof m=="object"){n=m}if(typeof o=="undefined"){o=function(b,a){return false}}if(typeof p=="undefined"){p=m}if(typeof s=="undefined"){s=m}if(typeof w=="undefined"){w=m}NetFunnel_init(null,r);if(n==null){NetFunnel_getTidChkEnter({success:m,error:p,stop:o,bypass:s,block:u,ipblock:q,expressnumber:w,continued:v})}else{NetFunnel_getTidChkEnter({success:function(b,a){if(n!=null){n.submit()}},error:function(b,a){if(n!=null){n.submit()}},bypass:function(b,a){if(n!=null){n.submit()}},expressnumber:function(b,a){if(n!=null){n.submit()}},stop:o,block:u,ipblock:q,continued:v})}return false}function NetFunnel_Complete(c,d){if(typeof d!="function"){d=function(a,b){return false}}NetFunnel_init(null,c);NetFunnel_setComplete({success:d,error:d,bypass:d});return false}function NetFunnel_AliveNotice(p,s){NetFunnel_init(null,p);if(typeof s=="function"){NetFunnel_aliveNotice({success:s,error:s,bypass:s,continued:s})}else{if(typeof s=="object"){var l=s.success;var t=s.continued;var m=s.stop;var n=s.error;var q=s.bypass;var r=s.block;var o=s.ipblock;var u=s.expressnumber;NetFunnel_aliveNotice({success:l,error:n,stop:m,bypass:q,block:r,ipblock:o,expressnumber:u,continued:t})}else{s=function(a,b){return false};NetFunnel_aliveNotice({success:s,error:s,bypass:s,continued:s})}}return false}function DefaultCallback_onSuccess(k,g,j){if(navigator.userAgent.toLowerCase().indexOf("chrome")>0){if(NetFunnel.gPop){var l=j.getConfig("popup_target").document;var m=document.createElement("IMG");m.src="data:image/gif;base64,"+NetFunnel.gFixelData;m.style.position="absolute";m.style.top="-10px";m.style.left="-10px";m.style.display="none";m.onload=function(){g.next(k,g);var a=l.getElementsByTagName("body")[0];a.removeChild(m)};var h=l.getElementsByTagName("body")[0];h.appendChild(m)}else{g.next(k,g)}}else{g.next(k,g)}return false}if(NetFunnel.TS_AUTO_COMPLETE==true){NetFunnel_Complete()};