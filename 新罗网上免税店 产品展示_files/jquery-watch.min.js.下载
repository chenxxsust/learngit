(function(b,a){b.fn.watch=function(d){function c(j,h,f){j.each(function(){var l=b(this),k;window.MutationObserver?(k=l.data("__watcherObserver"),k==null&&(k=new MutationObserver(f.fnc),l.data("__watcherObserver",k)),k.observe(this,{attributes:!0,subtree:e.watchChildren,childList:e.watchChildren,characterData:!0})):f.intervalId=setInterval(f.fnc,e.interval)})}function g(n,j,q){var w=b(this),t=w.data(n),v,m,k,p,u;if(t&&(v=this,t.func)){for(m=!1,k=0,k;k<t.props.length;k++){if((p=t.props[k],u="",u=p.startsWith("attr_")?w.attr(p.replace("attr_","")):p.startsWith("prop_")?w.prop(p.replace("prop_","")):w.css(p),u!=a)&&t.vals[k]!=u){t.vals[k]=u;m=!0;break}}m&&(w.unwatch(n),t.func.call(v,t,k,j,q),c(w,n,t))}}var e=b.extend({properties:null,interval:100,id:"_watcher_"+(new Date).getTime(),watchChildren:!1,callback:null},d);return this.each(function(){var j=this,h=b(this),k=function(l,i){g.call(j,e.id,l,i)},f={id:e.id,props:e.properties.split(","),vals:[e.properties.split(",").length],func:e.callback,fnc:k,origProps:e.properties,interval:e.interval,intervalId:null};b.each(f.props,function(l){var i=f.props[l];f.vals[l]=f.props[l].startsWith("attr_")?h.attr(i.replace("attr_","")):i.startsWith("prop_")?h.prop(i.replace("props_","")):h.css(i)});h.data(e.id,f);c(h,e.id,f)})};b.fn.unwatch=function(c){return this.each(function(){var e=b(this),d=e.data(c),g;try{window.MutationObserver?(g=e.data("__watcherObserver"),g&&(g.disconnect(),e.removeData("__watcherObserver"))):clearInterval(d.intervalId)}catch(h){}}),this};String.prototype.startsWith=function(c){return c===null||c===a?!1:c==this.substr(0,c.length)}})(jQuery,undefined);